<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Binary Trading Signal Bot</title>
  <style>
    body { background: #0f172a; color: #fff; font-family: sans-serif; text-align: center; }
    .container { max-width: 600px; margin: auto; padding: 20px; border: 2px solid #334155; border-radius: 10px; background: #1e293b; }
    button { background: #22c55e; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    #result { margin-top: 20px; padding: 15px; border-radius: 5px; background: #334155; text-align: left; }
    img { max-width: 100%; margin-top: 10px; border-radius: 5px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>ðŸ“Š Binary Trading Signal Bot</h2>
    <p>Upload your chart screenshot:</p>
    <input type="file" id="chartInput" accept="image/*" />
    <br /><br />
    <button onclick="analyzeMarket()">Analyze & Signal</button>
    <div id="preview"></div>
    <div id="result"></div>
  </div>

  <script>
    function analyzeMarket() {
      const fileInput = document.getElementById('chartInput');
      const resultDiv = document.getElementById('result');
      const previewDiv = document.getElementById('preview');

      if (fileInput.files.length === 0) {
        alert('Please upload a screenshot!');
        return;
      }

      // Show preview
      const img = document.createElement('img');
      img.src = URL.createObjectURL(fileInput.files[0]);
      previewDiv.innerHTML = '';
      previewDiv.appendChild(img);

      resultDiv.innerHTML = '<p>Analyzing market data...</p>';

      setTimeout(() => {
        // Random simulated analysis data
        const trends = ['Uptrend (price above 50MA, higher highs)', 'Downtrend (price below 50MA, lower lows)', 'Sideways (price between MA, no clear direction)'];
        const patterns = ['Bullish Engulfing', 'Bearish Engulfing', 'Doji', 'Hammer', 'Shooting Star', 'Morning Star', 'Evening Star'];
        const rsiVals = ['RSI 30 (Oversold)', 'RSI 70 (Overbought)', 'RSI 50 (Neutral)'];
        const macdVals = ['MACD Bullish Crossover', 'MACD Bearish Crossover', 'MACD Flat'];
        const bollVals = ['Price near Upper Band (possible reversal)', 'Price near Lower Band (possible reversal)', 'Price near Middle Band'];

        const trend = trends[Math.floor(Math.random() * trends.length)];
        const pattern = patterns[Math.floor(Math.random() * patterns.length)];
        const rsi = rsiVals[Math.floor(Math.random() * rsiVals.length)];
        const macd = macdVals[Math.floor(Math.random() * macdVals.length)];
        const boll = bollVals[Math.floor(Math.random() * bollVals.length)];

        // Signal decision
        let signal = 'WAIT';
        let reasons = [];

        if (trend.includes('Uptrend') && (pattern.includes('Bullish') || pattern === 'Hammer' || pattern === 'Morning Star') && macd.includes('Bullish')) {
          signal = 'CALL';
          reasons.push('Uptrend confirmed by moving averages');
          reasons.push(`Pattern detected: ${pattern}`);
          reasons.push('MACD shows bullish crossover');
          if (rsi.includes('Oversold')) reasons.push('RSI shows oversold - buy pressure');
        } 
        else if (trend.includes('Downtrend') && (pattern.includes('Bearish') || pattern === 'Shooting Star' || pattern === 'Evening Star') && macd.includes('Bearish')) {
          signal = 'PUT';
          reasons.push('Downtrend confirmed by moving averages');
          reasons.push(`Pattern detected: ${pattern}`);
          reasons.push('MACD shows bearish crossover');
          if (rsi.includes('Overbought')) reasons.push('RSI shows overbought - sell pressure');
        } 
        else {
          reasons.push('Mixed or unclear signals, better to wait.');
        }

        resultDiv.innerHTML = `
          <h3>âœ… Market Analysis</h3>
          <p><strong>Trend:</strong> ${trend}</p>
          <p><strong>Candle Pattern:</strong> ${pattern}</p>
          <p><strong>RSI:</strong> ${rsi}</p>
          <p><strong>MACD:</strong> ${macd}</p>
          <p><strong>Bollinger Band:</strong> ${boll}</p>
          <h3>ðŸ“Œ Final Signal: <span style="color:${signal==='CALL' ? '#22c55e' : signal==='PUT' ? '#ef4444' : '#facc15'}">${signal}</span></h3>
          <p><strong>Reasoning:</strong></p>
          <ul>${reasons.map(r => `<li>${r}</li>`).join('')}</ul>
        `;
      }, 2500);
    }
  </script>
</body>
</html>
